{{ define "header" }}{{ partial "page-header.html" . }}{{ end }}
{{ define "main" }}
<section class="projects-section" style="padding: 1rem 1.5rem;">
  <div class="projects-container" style="max-width: 1000px; margin: 0 auto;">
    <!-- Breadcrumb navigation -->
    <nav class="breadcrumb" style="font-size: 0.875rem; color: #666; margin-bottom: 1.5rem;">
      <a href="{{ "/metafunctor" | relLangURL }}" class="breadcrumb-link" style="color: #007acc; text-decoration: none; border-bottom: 1px solid transparent; transition: border-color 0.2s;" onmouseover="this.style.borderColor='#007acc';" onmouseout="this.style.borderColor='transparent';">Home</a> /
      {{ if .Parent }}
      <a href="{{ .Parent.Permalink }}" class="breadcrumb-link" style="color: #007acc; text-decoration: none; border-bottom: 1px solid transparent; transition: border-color 0.2s;" onmouseover="this.style.borderColor='#007acc';" onmouseout="this.style.borderColor='transparent';">{{ .Parent.Title }}</a> /
      {{ end }}
    </nav>

    <!-- Responsive grid layout for projects -->
    <div class="projects-grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(400px, 1fr)); gap: 2rem;">
      {{ range .Pages }}
      <div class="project-card" style="display: flex; border: 1px solid #e0e0e0; border-radius: 8px; overflow: hidden; transition: box-shadow 0.2s ease;">
        {{ with .Resources.GetMatch "featured.png" }}
        <div class="project-image" style="flex: 0 0 150px;">
          <img src="{{ .RelPermalink }}" alt="{{ .Title }}" style="width: 150px; height: 150px; object-fit: cover;">
        </div>
        {{ end }}
        <div class="project-content" style="padding: 1rem;">
          <h2 style="font-size: 1.5rem; margin-bottom: 0.75rem;">
            <a href="{{ .RelPermalink }}" style="text-decoration: none; color: inherit;">{{ .Title }}</a>
          </h2>
          <p style="color: #555; line-height: 1.5;">{{ .Summary }}</p>
        </div>
      </div>
      {{ end }}
    </div>
  </div>

  
</section>
{{ end }}
