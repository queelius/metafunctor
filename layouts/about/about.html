{{ define "header" }}{{ partial "page-header.html" . }}{{ end }}

{{ define "main" }}
<section class="about-section" style="padding: 2rem; background-color: #f9f9f9;">
  <div class="container" style="max-width: 1000px; margin: 0 auto;">

    <!-- Grid container for About Me and Education -->
    <div style="display: grid; grid-template-columns: 1.25fr 1fr; gap: 2rem;">

      <!-- About Me Section with Avatar -->
      <section style="margin-bottom: 3rem;">
        <h2 style="font-size: 2rem; font-weight: 700; color: #333; border-bottom: 2px solid #007acc; padding-bottom: 0.5rem; margin-bottom: 1.5rem;">About Me</h2>
        
        <!-- Avatar floated left with text flowing around it -->
        <div style="overflow: hidden;">
          <img src="/images/avatar.png" alt="Alex Towell's Profile Picture" style="float: left; width: 150px; height: 150px; border-radius: 50%; object-fit: cover; margin-right: 1.5rem; margin-bottom: 1rem; box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);">
          <p style="font-size: 1.1rem; color: #555; line-height: 1.8;">{{ .Params.about_text }}</p>
        </div>
      </section>

      <!-- Education Section -->
      {{ if .Params.education }}
      <section style="margin-bottom: 3rem;">
        <h2 style="font-size: 2rem; font-weight: 700; color: #333; border-bottom: 2px solid #007acc; padding-bottom: 0.5rem; margin-bottom: 1.5rem;">Education</h2>
        <ul style="list-style: none; padding-left: 0; font-size: 1.1rem; color: #555;">
          {{ range .Params.education }}
          <li style="padding: 0.75rem 0; border-bottom: 1px solid #e0e0e0;">
            <strong>{{ .area }}</strong>, {{ .institution }} ({{ .year }}) - <em>GPA: {{ .gpa }}</em>
          </li>
          {{ end }}
        </ul>

        <!-- Links Section (Now under Education) -->
        {{ if .Params.links }}
        <section style="margin-top: 2rem;">
          <h2 style="font-size: 1.75rem; font-weight: 600; color: #007acc;">Find me on</h2>
          <div style="display: flex; gap: 1rem; flex-wrap: wrap;">
            {{ range .Params.links }}
            <a href="{{ .url }}" target="_blank" style="padding: 0.75rem 1.5rem; background-color: #007acc; color: white; border-radius: 5px; text-decoration: none; transition: background-color 0.3s ease; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);">
              {{ .name }}
            </a>
            {{ end }}
          </div>
        </section>
        {{ end }}
      </section>
      {{ end }}

    </div>

    <!-- Skills Section (Four Columns) -->
    {{ if .Params.skills }}
    <section style="margin-bottom: 3rem; background-color: #f0f8ff; padding: 2rem; border-radius: 8px; box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);">
      <h2 style="font-size: 2rem; font-weight: 700; color: #333; border-bottom: 2px solid #007acc; padding-bottom: 0.5rem; margin-bottom: 1.5rem;">Skills</h2>
      <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 1.5rem;">
        {{ range .Params.skills }}
        <div style="background-color: #fff; padding: 1rem; border-radius: 8px; box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1); transition: transform 0.3s ease;">
          <strong style="font-size: 1.2rem; color: #007acc;">{{ .name }}</strong>
          <div style="background-color: #e0e0e0; border-radius: 5px; height: 20px; margin-top: 0.5rem;">
            <div style="width: {{ .proficiency }}%; background-color: #007acc; height: 100%; border-radius: 5px; transition: width 0.6s ease;"></div>
          </div>
          <p style="font-size: 0.9rem; color: #555; margin-top: 0.2rem;">{{ .proficiency }}%</p>
        </div>
        {{ end }}
      </div>
    </section>
    {{ end }}
    
    <!-- Research Interests Section -->
    {{ if .Params.research_interests }}
    <section style="margin-bottom: 3rem;">
      <h2 style="font-size: 2rem; font-weight: 700; color: #333; border-bottom: 2px solid #007acc; padding-bottom: 0.5rem; margin-bottom: 1.5rem;">Research Interests</h2>
      {{ range .Params.research_interests }}
      <div style="margin-bottom: 2rem; padding: 1rem; border-radius: 8px; background-color: #f8f8f8; box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);">
        <h3 style="font-size: 1.5rem; font-weight: 500; color: #007acc;">{{ .title }}</h3>
        <p style="font-size: 1.1rem; color: #555;">{{ .description }}</p>
      </div>
      {{ end }}
    </section>
    {{ end }}

  </div>
</section>
{{ end }}
